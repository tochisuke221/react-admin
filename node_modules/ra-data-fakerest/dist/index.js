var k=Object.create;var f=Object.defineProperty,q=Object.defineProperties,A=Object.getOwnPropertyDescriptor,E=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,L=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(e,n,t)=>n in e?f(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,s=(e,n)=>{for(var t in n||(n={}))P.call(n,t)&&w(e,t,n[t]);if(v)for(var t of v(n))j.call(n,t)&&w(e,t,n[t]);return e},R=(e,n)=>q(e,E(n)),h=e=>f(e,"__esModule",{value:!0}),u=(e,n)=>f(e,"name",{value:n,configurable:!0});var x=(e,n)=>{for(var t in n)f(e,t,{get:n[t],enumerable:!0})},C=(e,n,t,g)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of F(n))!P.call(e,i)&&(t||i!=="default")&&f(e,i,{get:()=>n[i],enumerable:!(g=A(n,i))||g.enumerable});return e},D=(e,n)=>C(h(f(e!=null?k(L(e)):{},"default",!n&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),b=(e=>(n,t)=>e&&e.get(n)||(t=C(h({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var $={};x($,{default:()=>N});var S=D(require("fakerest"));function J(e,n,t,g){console.group?(console.groupCollapsed(e,n,JSON.stringify(t)),console.log(g),console.groupEnd()):(console.log("FakeRest request ",e,n,t),console.log("FakeRest response",g))}u(J,"log");var N=u((e,n=!1)=>{let t=new S.default.Server;t.init(e),typeof window!="undefined"&&(window.restServer=t);function g(l,o,d){switch(l){case"getList":{let{page:r,perPage:a}=d.pagination,{field:c,order:M}=d.sort,y={sort:[c,M],range:[(r-1)*a,r*a-1],filter:d.filter};return{data:t.getAll(o,y),total:t.getCount(o,{filter:d.filter})}}case"getOne":return{data:t.getOne(o,d.id,s({},d))};case"getMany":return{data:t.getAll(o,{filter:{id:d.ids}})};case"getManyReference":{let{page:r,perPage:a}=d.pagination,{field:c,order:M}=d.sort,y={sort:[c,M],range:[(r-1)*a,r*a-1],filter:R(s({},d.filter),{[d.target]:d.id})};return{data:t.getAll(o,y),total:t.getCount(o,{filter:y.filter})}}case"update":return{data:t.updateOne(o,d.id,s({},d.data))};case"updateMany":return d.ids.forEach(r=>t.updateOne(o,r,s({},d.data))),{data:d.ids};case"create":return{data:t.addOne(o,s({},d.data))};case"delete":return{data:t.removeOne(o,d.id)};case"deleteMany":return d.ids.forEach(r=>t.removeOne(o,r)),{data:d.ids};default:return!1}}u(g,"getResponse");let i=u((l,o,d)=>{if(!t.getCollection(o)&&l!=="create"){let c=new O(`Undefined collection "${o}"`);return c.code=1,Promise.reject(c)}let a;try{a=g(l,o,d)}catch(c){return console.error(c),Promise.reject(c)}return n&&J(l,o,d,a),Promise.resolve(a)},"handle");return{getList:(l,o)=>i("getList",l,o),getOne:(l,o)=>i("getOne",l,o),getMany:(l,o)=>i("getMany",l,o),getManyReference:(l,o)=>i("getManyReference",l,o),update:(l,o)=>i("update",l,o),updateMany:(l,o)=>i("updateMany",l,o),create:(l,o)=>i("create",l,o),delete:(l,o)=>i("delete",l,o),deleteMany:(l,o)=>i("deleteMany",l,o)}},"default"),O=class extends Error{};u(O,"UndefinedResourceError");module.exports=b($);0&&(module.exports={});
//# sourceMappingURL=index.js.map